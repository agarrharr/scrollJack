var t={SCROLL:"scroll",SCROLL_VERTICAL:"scroll-vertical",SCROLL_UP:"scroll-up",SCROLL_DOWN:"scroll-down",SCROLL_HORIZONTRAL:"scroll-horizontal",SCROLL_LEFT:"scroll-left",SCROLL_RIGHT:"scroll-right"},i=function(t){this._wm=new WeakMap(t)};i.prototype.clear=function(){this._wm=new WeakMap},i.prototype.delete=function(t){return this._wm.delete(t)},i.prototype.get=function(t){return this._wm.get(t)},i.prototype.has=function(t){return this._wm.has(t)},i.prototype.set=function(t,i){return this._wm.set(t,i),this};var o=function(){var t=window,i=document,o=i.documentElement,e=i.getElementsByTagName("body")[0];return{width:t.innerWidth||o.clientWidth||e.clientWidth,height:t.innerHeight||o.clientHeight||e.clientHeight}},e=function(){var e=this;this.events=t,this.registry={},this.raf=null,this.lastScrollY=0,this.lastScrollX=0,this.bbMap=new i,this.viewport=o(),this._handler=this._handler.bind(this),this.inView=this.inView.bind(this),this.aboveView=this.aboveView.bind(this),this.belowView=this.belowView.bind(this),window.addEventListener("scroll",this._handler,!1);var n=null;window.addEventListener("resize",function(){n&&window.clearTimeout(n),n=window.setTimeout(function(){e.viewport=o()},16)},!1)};e.prototype.on=function(t,i){return(this.registry[t]||(this.registry[t]=[])).push(i),this},e.prototype.off=function(t,i){return this.registry[t]&&this.registryl[t].splice(this.registry[t].indexOf(i)>>>0,1),this},e.prototype.trigger=function(t,i){return(this.registry[t]||[]).slice().map(function(t){t(i)}),this},e.prototype.getClientBoundingRect=function(t){var i;return this.bbMap.has(t)?i=this.bbMap.get(t):(i=t.getBoundingClientRect(),this.bbMap.set(t,i)),i},e.prototype.inView=function(t){var i=this.getClientBoundingRect(t);return i.top>-1*i.height},e.prototype.aboveView=function(t){return this.getClientBoundingRect(t).top<0},e.prototype.belowView=function(t){return this.getClientBoundingRect(t).top>this.viewport.height},e.prototype._handler=function(i){var o=this;this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(function(){var e={event:i,inView:o.inView,aboveView:o.aboveView,belowView:o.belowView};e.scrollPositionY=document.documentElement.scrollTop||document.body.scrollTop,e.scrollPositionX=document.documentElement.scrollLeft||document.body.scrollLeft,e.scrollPositionY>o.lastScrollY?(e.goingDown=!0,e.goingUp=!1,e.vertical=!0):e.scrollPositionY<o.lastScrollY?(e.goingDown=!1,e.goingUp=!0,e.vertical=!0):(e.goingDown=!1,e.goingUp=!1,e.vertical=!1),e.scrollPositionX>o.lastScrollX?(e.goingRight=!0,e.goingLeft=!1,e.horizontal=!0):e.scrollPositionX<o.lastScrollX?(e.goingRight=!1,e.goingLeft=!0,e.horizontal=!0):(e.goingRight=!1,e.goingLeft=!1,e.horizontal=!1),e.deltaY=e.scrollPositionY-o.lastScrollY,e.deltaX=e.scrollPositionX-o.lastScrollX,o.lastScrollY=e.scrollPositionY,o.lastScrollX=e.scrollPositionX,o.trigger(t.SCROLL,e),e.goingUp&&o.trigger(t.SCROLL_UP,e),e.goingDown&&o.trigger(t.SCROLL_DOWN,e),e.vertical&&o.trigger(t.SCROLL_VERTICAL,e),e.goingLeft&&o.trigger(t.SCROLL_LEFT,e),e.goingRight&&o.trigger(t.SCROLL_RIGHT,e),e.horizontal&&o.trigger(t.SCROLL_HORIZONTAL,e),o.bbMap.clear()})};var n=new e;module.exports=n;
//# sourceMappingURL=scrollJack.js.map
