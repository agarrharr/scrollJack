!function(t,i){"object"==typeof exports&&"undefined"!=typeof module?module.exports=i():"function"==typeof define&&define.amd?define(i):t.scrollJack=i()}(this,function(){var t={SCROLL:"scroll",SCROLL_VERTICAL:"scroll-vertical",SCROLL_UP:"scroll-up",SCROLL_DOWN:"scroll-down",SCROLL_HORIZONTRAL:"scroll-horizontal",SCROLL_LEFT:"scroll-left",SCROLL_RIGHT:"scroll-right"},i=function(t){this._wm=new WeakMap(t)};i.prototype.clear=function(){this._wm=new WeakMap},i.prototype.delete=function(t){return this._wm.delete(t)},i.prototype.get=function(t){return this._wm.get(t)},i.prototype.has=function(t){return this._wm.has(t)},i.prototype.set=function(t,i){return this._wm.set(t,i),this};var e=function(){var t=window,i=document,e=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:t.innerWidth||e.clientWidth||o.clientWidth,height:t.innerHeight||e.clientHeight||o.clientHeight}},o=function(){var o=this;this.events=t,this.registry={},this.raf=null,this.lastScrollY=0,this.lastScrollX=0,this.bbMap=new i,this.viewport=e(),this._handler=this._handler.bind(this),this.inView=this.inView.bind(this),this.aboveView=this.aboveView.bind(this),this.belowView=this.belowView.bind(this),window.addEventListener("scroll",this._handler,!1);var n=null;window.addEventListener("resize",function(){n&&window.clearTimeout(n),n=window.setTimeout(function(){o.viewport=e()},16)},!1)};return o.prototype.on=function(t,i){return(this.registry[t]||(this.registry[t]=[])).push(i),this},o.prototype.off=function(t,i){return this.registry[t]&&this.registryl[t].splice(this.registry[t].indexOf(i)>>>0,1),this},o.prototype.trigger=function(t,i){return(this.registry[t]||[]).slice().map(function(t){t(i)}),this},o.prototype.getClientBoundingRect=function(t){var i;return this.bbMap.has(t)?i=this.bbMap.get(t):(i=t.getBoundingClientRect(),this.bbMap.set(t,i)),i},o.prototype.inView=function(t){var i=this.getClientBoundingRect(t);return i.top>-1*i.height},o.prototype.aboveView=function(t){return this.getClientBoundingRect(t).top<0},o.prototype.belowView=function(t){return this.getClientBoundingRect(t).top>this.viewport.height},o.prototype._handler=function(i){var e=this;this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(function(){var o={event:i,inView:e.inView,aboveView:e.aboveView,belowView:e.belowView};o.scrollPositionY=document.documentElement.scrollTop||document.body.scrollTop,o.scrollPositionX=document.documentElement.scrollLeft||document.body.scrollLeft,o.scrollPositionY>e.lastScrollY?(o.goingDown=!0,o.goingUp=!1,o.vertical=!0):o.scrollPositionY<e.lastScrollY?(o.goingDown=!1,o.goingUp=!0,o.vertical=!0):(o.goingDown=!1,o.goingUp=!1,o.vertical=!1),o.scrollPositionX>e.lastScrollX?(o.goingRight=!0,o.goingLeft=!1,o.horizontal=!0):o.scrollPositionX<e.lastScrollX?(o.goingRight=!1,o.goingLeft=!0,o.horizontal=!0):(o.goingRight=!1,o.goingLeft=!1,o.horizontal=!1),o.deltaY=o.scrollPositionY-e.lastScrollY,o.deltaX=o.scrollPositionX-e.lastScrollX,e.lastScrollY=o.scrollPositionY,e.lastScrollX=o.scrollPositionX,e.trigger(t.SCROLL,o),o.goingUp&&e.trigger(t.SCROLL_UP,o),o.goingDown&&e.trigger(t.SCROLL_DOWN,o),o.vertical&&e.trigger(t.SCROLL_VERTICAL,o),o.goingLeft&&e.trigger(t.SCROLL_LEFT,o),o.goingRight&&e.trigger(t.SCROLL_RIGHT,o),o.horizontal&&e.trigger(t.SCROLL_HORIZONTAL,o),e.bbMap.clear()})},new o});
//# sourceMappingURL=scrollJack.umd.js.map
