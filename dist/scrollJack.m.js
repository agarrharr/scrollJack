var t={SCROLL:"scroll",SCROLL_VERTICAL:"scroll-vertical",SCROLL_UP:"scroll-up",SCROLL_DOWN:"scroll-down",SCROLL_HORIZONTRAL:"scroll-horizontal",SCROLL_LEFT:"scroll-left",SCROLL_RIGHT:"scroll-right"},i=function(t){this._wm=new WeakMap(t)};i.prototype.clear=function(){this._wm=new WeakMap},i.prototype.delete=function(t){return this._wm.delete(t)},i.prototype.get=function(t){return this._wm.get(t)},i.prototype.has=function(t){return this._wm.has(t)},i.prototype.set=function(t,i){return this._wm.set(t,i),this};var e=function(){var t=window,i=document,e=i.documentElement,o=i.getElementsByTagName("body")[0];return{width:t.innerWidth||e.clientWidth||o.clientWidth,height:t.innerHeight||e.clientHeight||o.clientHeight}},o=function(){return document.documentElement.scrollTop||document.body.scrollTop},n=function(){return document.documentElement.scrollLeft||document.body.scrollLeft},r=function(){var o=this;this.events=t,this.registry={},this.raf=null,this.lastScrollY=0,this.lastScrollX=0,this.bbMap=new i,this.viewport=e(),this._handler=this._handler.bind(this),this.inView=this.inView.bind(this),this.aboveView=this.aboveView.bind(this),this.belowView=this.belowView.bind(this),window.addEventListener("scroll",this._handler,!1);var n=null;window.addEventListener("resize",function(){n&&window.clearTimeout(n),n=window.setTimeout(function(){o.viewport=e()},16)},!1)};r.prototype.on=function(t,i){return(this.registry[t]||(this.registry[t]=[])).push(i),this},r.prototype.off=function(t,i){return this.registry[t]&&this.registryl[t].splice(this.registry[t].indexOf(i)>>>0,1),this},r.prototype.trigger=function(t,i){return(this.registry[t]||[]).slice().map(function(t){t(i)}),this},r.prototype.getClientBoundingRect=function(t){var i;return this.bbMap.has(t)?i=this.bbMap.get(t):(i=t.getBoundingClientRect(),this.bbMap.set(t,i)),i},r.prototype.inView=function(t){var i=this.getClientBoundingRect(t);return i.top>-1*i.height},r.prototype.aboveView=function(t){return this.getClientBoundingRect(t).top<0},r.prototype.belowView=function(t){return this.getClientBoundingRect(t).top>this.viewport.height},r.prototype._handler=function(i){var e=this;this.raf&&window.cancelAnimationFrame(this.raf),this.raf=window.requestAnimationFrame(function(){var r={event:i,inView:e.inView,aboveView:e.aboveView,belowView:e.belowView};r.scrollPositionY=o(),r.scrollPositionX=n(),r.scrollPositionY>e.lastScrollY?(r.goingDown=!0,r.goingUp=!1,r.vertical=!0):r.scrollPositionY<e.lastScrollY?(r.goingDown=!1,r.goingUp=!0,r.vertical=!0):(r.goingDown=!1,r.goingUp=!1,r.vertical=!1),r.scrollPositionX>e.lastScrollX?(r.goingRight=!0,r.goingLeft=!1,r.horizontal=!0):r.scrollPositionX<e.lastScrollX?(r.goingRight=!1,r.goingLeft=!0,r.horizontal=!0):(r.goingRight=!1,r.goingLeft=!1,r.horizontal=!1),r.deltaY=r.scrollPositionY-e.lastScrollY,r.deltaX=r.scrollPositionX-e.lastScrollX,e.lastScrollY=r.scrollPositionY,e.lastScrollX=r.scrollPositionX,e.trigger(t.SCROLL,r),r.goingUp&&e.trigger(t.SCROLL_UP,r),r.goingDown&&e.trigger(t.SCROLL_DOWN,r),r.vertical&&e.trigger(t.SCROLL_VERTICAL,r),r.goingLeft&&e.trigger(t.SCROLL_LEFT,r),r.goingRight&&e.trigger(t.SCROLL_RIGHT,r),r.horizontal&&e.trigger(t.SCROLL_HORIZONTAL,r),e.bbMap.clear()})};export default new r;export{t as events,e as getViewPortSize,o as scrollTop,n as scrollLeft,r as ScrollJack};
//# sourceMappingURL=scrollJack.m.js.map
